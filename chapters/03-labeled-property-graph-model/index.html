
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An interactive intelligent textbook covering an introduction to graph databases.  This textbook includes extensive MicroSims">
      
      
        <meta name="author" content="Dan McCreary">
      
      
        <link rel="canonical" href="https://dmccreary.github.io/intro-to-graph/chapters/03-labeled-property-graph-model/">
      
      
        <link rel="prev" href="../02-database-systems-nosql/">
      
      
        <link rel="next" href="../04-query-languages/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.43">
    
    
      
        <title>Chapter 3 - Labeled Property Graph Model - Introduction to Graph Databases</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Chapter 3 - Labeled Property Graph Model - Introduction to Graph Databases" >
      
        <meta  property="og:description"  content="An interactive intelligent textbook covering an introduction to graph databases.  This textbook includes extensive MicroSims" >
      
        <meta  property="og:image"  content="https://dmccreary.github.io/intro-to-graph/assets/images/social/chapters/03-labeled-property-graph-model/index.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://dmccreary.github.io/intro-to-graph/chapters/03-labeled-property-graph-model/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Chapter 3 - Labeled Property Graph Model - Introduction to Graph Databases" >
      
        <meta  name="twitter:description"  content="An interactive intelligent textbook covering an introduction to graph databases.  This textbook includes extensive MicroSims" >
      
        <meta  name="twitter:image"  content="https://dmccreary.github.io/intro-to-graph/assets/images/social/chapters/03-labeled-property-graph-model/index.png" >
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#labeled-property-graph-information-model" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Introduction to Graph Databases" class="md-header__button md-logo" aria-label="Introduction to Graph Databases" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Introduction to Graph Databases
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 3 - Labeled Property Graph Model
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dmccreary/intro-to-graph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Introduction to Graph Databases" class="md-nav__button md-logo" aria-label="Introduction to Graph Databases" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Introduction to Graph Databases
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dmccreary/intro-to-graph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course Description
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Chapters
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Chapters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-intro-graph-thinking-data-modeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 1 - Introduction to Graph Thinking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-database-systems-nosql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 2 - Database Systems and NoSQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Chapter 3 - Labeled Property Graph Model
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Chapter 3 - Labeled Property Graph Model
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts-covered" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts Covered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#welcome-to-graph-land-where-everything-connects" class="md-nav__link">
    <span class="md-ellipsis">
      Welcome to Graph Land: Where Everything Connects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-labeled-property-graph-the-whole-enchilada" class="md-nav__link">
    <span class="md-ellipsis">
      The Labeled Property Graph: The Whole Enchilada
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodes-the-stars-of-the-show" class="md-nav__link">
    <span class="md-ellipsis">
      Nodes: The Stars of the Show
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edges-where-the-magic-happens" class="md-nav__link">
    <span class="md-ellipsis">
      Edges: Where the Magic Happens
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#properties-the-details-that-matter" class="md-nav__link">
    <span class="md-ellipsis">
      Properties: The Details That Matter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#labels-organizing-the-chaos" class="md-nav__link">
    <span class="md-ellipsis">
      Labels: Organizing the Chaos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-all-together-the-graph-data-model" class="md-nav__link">
    <span class="md-ellipsis">
      Putting It All Together: The Graph Data Model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-optional-vs-schema-enforced-choose-your-adventure" class="md-nav__link">
    <span class="md-ellipsis">
      Schema-Optional vs. Schema-Enforced: Choose Your Adventure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schema-Optional vs. Schema-Enforced: Choose Your Adventure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema-optional-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      Schema-Optional Modeling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-enforced-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      Schema-Enforced Modeling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#which-approach-should-you-use" class="md-nav__link">
    <span class="md-ellipsis">
      Which Approach Should You Use?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#index-free-adjacency-the-performance-secret" class="md-nav__link">
    <span class="md-ellipsis">
      Index-Free Adjacency: The Performance Secret
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Index-Free Adjacency: The Performance Secret">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constant-time-neighbor-access" class="md-nav__link">
    <span class="md-ellipsis">
      Constant-Time Neighbor Access
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traversal-walking-the-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Traversal: Walking the Graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-query-asking-questions-of-your-data" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Query: Asking Questions of Your Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pattern-matching-finding-shapes-in-the-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Pattern Matching: Finding Shapes in the Graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-hop-queries-going-deep" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Hop Queries: Going Deep
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#path-patterns-expressing-complex-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Path Patterns: Expressing Complex Routes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregation-computing-over-results" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregation: Computing Over Results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-schema-optional-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Schema: Optional Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-representation-data-about-data" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata Representation: Data About Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-validation-document-validation-and-rule-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Validation, Document Validation, and Rule Systems
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Graph Validation, Document Validation, and Rule Systems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#graph-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Document Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Rule Systems
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bringing-it-all-together-a-complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      Bringing It All Together: A Complete Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#taking-a-breath-what-weve-covered" class="md-nav__link">
    <span class="md-ellipsis">
      Taking a Breath: What We've Covered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-confidence-through-repetition" class="md-nav__link">
    <span class="md-ellipsis">
      Building Confidence Through Repetition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#moving-forward" class="md-nav__link">
    <span class="md-ellipsis">
      Moving Forward
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      Key Takeaways
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-query-languages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 4 - Query Languages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-performance-metrics-benchmarking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 5 - Performance and Benchmarking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-graph-algorithms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 6 - Graph Algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-social-network-modeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 7 - Social Network Modeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-knowledge-representation-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 8 - Knowledge Representation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-modeling-patterns-data-loading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 9 - Modeling Patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-commerce-supply-chain-it/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 10 - Commerce and Supply Chain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11-financial-healthcare-regulatory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 11 - Financial and Healthcare
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12-advanced-topics-distributed-systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter 12 - Advanced Topics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../sims/graph-viewer/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    MicroSims
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../learning-graph/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Learning Graph
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../stories/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Stories
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../prompts/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-we-built-this-site/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How We Built This Site
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../feedback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feedback
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts-covered" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts Covered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#welcome-to-graph-land-where-everything-connects" class="md-nav__link">
    <span class="md-ellipsis">
      Welcome to Graph Land: Where Everything Connects
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-labeled-property-graph-the-whole-enchilada" class="md-nav__link">
    <span class="md-ellipsis">
      The Labeled Property Graph: The Whole Enchilada
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodes-the-stars-of-the-show" class="md-nav__link">
    <span class="md-ellipsis">
      Nodes: The Stars of the Show
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#edges-where-the-magic-happens" class="md-nav__link">
    <span class="md-ellipsis">
      Edges: Where the Magic Happens
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#properties-the-details-that-matter" class="md-nav__link">
    <span class="md-ellipsis">
      Properties: The Details That Matter
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#labels-organizing-the-chaos" class="md-nav__link">
    <span class="md-ellipsis">
      Labels: Organizing the Chaos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-all-together-the-graph-data-model" class="md-nav__link">
    <span class="md-ellipsis">
      Putting It All Together: The Graph Data Model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-optional-vs-schema-enforced-choose-your-adventure" class="md-nav__link">
    <span class="md-ellipsis">
      Schema-Optional vs. Schema-Enforced: Choose Your Adventure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schema-Optional vs. Schema-Enforced: Choose Your Adventure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema-optional-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      Schema-Optional Modeling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-enforced-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      Schema-Enforced Modeling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#which-approach-should-you-use" class="md-nav__link">
    <span class="md-ellipsis">
      Which Approach Should You Use?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#index-free-adjacency-the-performance-secret" class="md-nav__link">
    <span class="md-ellipsis">
      Index-Free Adjacency: The Performance Secret
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Index-Free Adjacency: The Performance Secret">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constant-time-neighbor-access" class="md-nav__link">
    <span class="md-ellipsis">
      Constant-Time Neighbor Access
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traversal-walking-the-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Traversal: Walking the Graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-query-asking-questions-of-your-data" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Query: Asking Questions of Your Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pattern-matching-finding-shapes-in-the-graph" class="md-nav__link">
    <span class="md-ellipsis">
      Pattern Matching: Finding Shapes in the Graph
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-hop-queries-going-deep" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Hop Queries: Going Deep
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#path-patterns-expressing-complex-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Path Patterns: Expressing Complex Routes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregation-computing-over-results" class="md-nav__link">
    <span class="md-ellipsis">
      Aggregation: Computing Over Results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-schema-optional-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Schema: Optional Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-representation-data-about-data" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata Representation: Data About Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph-validation-document-validation-and-rule-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Validation, Document Validation, and Rule Systems
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Graph Validation, Document Validation, and Rule Systems">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#graph-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Graph Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Document Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Rule Systems
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bringing-it-all-together-a-complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      Bringing It All Together: A Complete Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#taking-a-breath-what-weve-covered" class="md-nav__link">
    <span class="md-ellipsis">
      Taking a Breath: What We've Covered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-confidence-through-repetition" class="md-nav__link">
    <span class="md-ellipsis">
      Building Confidence Through Repetition
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#moving-forward" class="md-nav__link">
    <span class="md-ellipsis">
      Moving Forward
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      Key Takeaways
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/dmccreary/intro-to-graph/blob/master/docs/chapters/03-labeled-property-graph-model/index.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="labeled-property-graph-information-model">Labeled Property Graph Information Model</h1>
<h2 id="summary">Summary</h2>
<p>This chapter introduces the Labeled Property Graph (LPG) information model, the foundation of modern graph databases. You'll learn how nodes, edges, properties, and labels work together to create expressive, flexible data models where relationships are first-class citizens. The chapter covers both schema-optional and schema-enforced approaches, explores index-free adjacency for performance, and introduces fundamental graph operations including traversal, pattern matching, and multi-hop queries.</p>
<h2 id="concepts-covered">Concepts Covered</h2>
<p>This chapter covers the following 23 concepts from the learning graph:</p>
<ol>
<li>Labeled Property Graph</li>
<li>Nodes</li>
<li>Edges</li>
<li>Properties</li>
<li>Labels</li>
<li>Schema-Optional Modeling</li>
<li>Schema-Enforced Modeling</li>
<li>Index-Free Adjacency</li>
<li>Traversal</li>
<li>Graph Query</li>
<li>Pattern Matching</li>
<li>Multi-Hop Queries</li>
<li>Aggregation</li>
<li>Path Patterns</li>
<li>Constant-Time Neighbor Access</li>
<li>First-Class Relationships</li>
<li>Edge Direction</li>
<li>Graph Data Model</li>
<li>Graph Schema</li>
<li>Metadata Representation</li>
<li>Graph Validation</li>
<li>Document Validation</li>
<li>Rule Systems</li>
</ol>
<h2 id="prerequisites">Prerequisites</h2>
<p>This chapter builds on concepts from:</p>
<ul>
<li><a href="../01-intro-graph-thinking-data-modeling/">Chapter 1: Introduction to Graph Thinking and Data Modeling</a></li>
<li><a href="../02-database-systems-nosql/">Chapter 2: Database Systems and NoSQL</a></li>
</ul>
<hr />
<h2 id="welcome-to-graph-land-where-everything-connects">Welcome to Graph Land: Where Everything Connects</h2>
<p>Okay, deep breath. This chapter introduces a bunch of new concepts that might feel weird at first—and that's totally normal! If you've spent any time with traditional databases (or even if you haven't), the Labeled Property Graph model is going to ask you to think differently about data. Some of these ideas will click immediately, others might take a few read-throughs. That's not just okay—it's expected.</p>
<p>Here's the good news: the concepts we're covering aren't actually complicated; they're just <em>different</em>. And once they click (which they will, with a bit of repetition), you'll wonder why anyone ever thought tables were a good way to represent connected information.</p>
<p>We're going to introduce a lot of vocabulary in this chapter—23 concepts to be exact. Don't panic! Many of them build on each other, and we'll revisit the same ideas multiple times from different angles. By the end, terms like "index-free adjacency" and "first-class relationships" will feel as natural as "nodes" and "edges."</p>
<p>Ready? Let's dive in. And remember: if something doesn't make sense the first time, keep reading. It will.</p>
<h2 id="the-labeled-property-graph-the-whole-enchilada">The Labeled Property Graph: The Whole Enchilada</h2>
<p>Let's start with the big picture. A <strong>Labeled Property Graph (LPG)</strong> is the data model that most modern graph databases use. Think of it as the "rules of the game" for how information gets structured and stored.</p>
<p>Don't worry about memorizing that definition. What matters is understanding the four building blocks that make up an LPG:</p>
<ol>
<li><strong>Nodes</strong> - The "things" in your data (people, products, accounts, locations)</li>
<li><strong>Edges</strong> - The connections between things (relationships like FRIEND_OF, PURCHASED, DEPENDS_ON)</li>
<li><strong>Properties</strong> - The attributes or details (name, age, price, date)</li>
<li><strong>Labels</strong> - The categories that organize nodes and edges (Person, Product, PURCHASED)</li>
</ol>
<p>Here's the simplest possible graph to illustrate:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>(Alice:Person {age: 28})
    -[:FRIEND_OF {since: 2020}]-&gt;
(Bob:Person {age: 35})
</code></pre></div></td></tr></table></div>
<p>Let's break this down piece by piece:
- <code>Alice</code> is a <strong>node</strong> (a thing that exists)
- <code>:Person</code> is a <strong>label</strong> (Alice belongs to the "Person" category)
- <code>{age: 28}</code> is a <strong>property</strong> (a detail about Alice)
- <code>-[:FRIEND_OF {since: 2020}]-&gt;</code> is an <strong>edge</strong> (a connection from Alice to Bob)
- <code>:FRIEND_OF</code> is the <strong>edge's label</strong> (the type of relationship)
- <code>{since: 2020}</code> is the <strong>edge's property</strong> (when they became friends)
- The arrow <code>-&gt;</code> shows direction (Alice is friends with Bob)</p>
<p>If that feels like a lot, don't stress. We're going to explore each piece in detail, and you'll see the same concepts repeated in different examples. By the tenth example, this notation will feel completely natural.</p>
<h2 id="nodes-the-stars-of-the-show">Nodes: The Stars of the Show</h2>
<p><strong>Nodes</strong> (also called vertices if you want to sound fancy) represent the entities in your graph—the people, places, things, concepts, or events that you care about. If your graph is a social network, nodes are users. If it's a supply chain, nodes are products, warehouses, and vendors. If it's a knowledge graph, nodes are concepts and facts.</p>
<p>Think of nodes as the nouns in your data's story.</p>
<p><strong>What makes a node?</strong></p>
<ol>
<li><strong>A unique identity</strong>: Every node is distinct, even if two nodes have the same properties</li>
<li><strong>Optional properties</strong>: Nodes can have attributes (name, age, email) or none at all</li>
<li><strong>Optional labels</strong>: Nodes can belong to one or more categories</li>
<li><strong>Connections</strong>: Nodes are connected to other nodes via edges</li>
</ol>
<p>Let's look at some concrete examples:</p>
<p><strong>Social network nodes:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>(user1:Person {name: &quot;Alice&quot;, email: &quot;alice@example.com&quot;, joined: &quot;2020-01-15&quot;})
(user2:Person {name: &quot;Bob&quot;, email: &quot;bob@example.com&quot;, joined: &quot;2019-06-22&quot;})
(post1:Post {content: &quot;Loving graph databases!&quot;, timestamp: &quot;2025-01-18T10:30:00&quot;})
</code></pre></div></td></tr></table></div></p>
<p><strong>E-commerce nodes:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>(product1:Product {name: &quot;Laptop&quot;, price: 899.99, sku: &quot;LAP-001&quot;})
(category1:Category {name: &quot;Electronics&quot;, description: &quot;Electronic devices&quot;})
(vendor1:Vendor {name: &quot;TechCorp&quot;, country: &quot;USA&quot;})
</code></pre></div></td></tr></table></div></p>
<p>Notice a few things:
- Different nodes can have completely different properties
- Node identifiers (user1, product1) are internal; the actual data is in the properties
- Labels (Person, Product, Category) help organize nodes into types</p>
<p><strong>The abstract concept</strong>: A node represents a discrete entity in your domain. Each node is a standalone unit of information that can be connected to other units.</p>
<p><strong>The concrete analogy</strong>: Think of nodes like index cards in a massive library card catalog. Each card represents one distinct thing—a book, an author, a subject. The card might have details written on it (properties), and it might be filed in multiple categories (labels). But fundamentally, it's a single, identifiable item.</p>
<p>(See? Same concept, two different explanations. This is that repetition thing we mentioned!)</p>
<h2 id="edges-where-the-magic-happens">Edges: Where the Magic Happens</h2>
<p>Here's where graph databases get interesting. <strong>Edges</strong> (also called relationships or links) connect nodes to represent how things relate to each other. Unlike traditional databases where relationships are implied through foreign keys and JOIN operations, edges are <strong>first-class citizens</strong>—they're real, tangible things you can see, query, and give properties to.</p>
<p>This is kind of a big deal. Let me say it again: <strong>relationships in a graph database are first-class citizens</strong>. They're not hidden in junction tables or implied by matching IDs. They're explicit, named, directional connections with their own identity and attributes.</p>
<p><strong>What makes an edge?</strong></p>
<ol>
<li><strong>Two nodes</strong>: An edge connects exactly two nodes (a "from" node and a "to" node)</li>
<li><strong>Direction</strong>: Edges point from one node to another (though you can traverse them in either direction)</li>
<li><strong>A type/label</strong>: Every edge has a name describing the relationship (FRIEND_OF, PURCHASED, DEPENDS_ON)</li>
<li><strong>Optional properties</strong>: Edges can have attributes just like nodes</li>
</ol>
<p><strong>Social network edges:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>(Alice)-[:FRIEND_OF {since: &quot;2020-05-12&quot;, closeness: 0.8}]-&gt;(Bob)
(Alice)-[:POSTED {timestamp: &quot;2025-01-18T10:30:00&quot;}]-&gt;(post1)
(Bob)-[:LIKED {timestamp: &quot;2025-01-18T10:35:00&quot;}]-&gt;(post1)
</code></pre></div></td></tr></table></div></p>
<p><strong>E-commerce edges:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>(Alice)-[:PURCHASED {date: &quot;2025-01-15&quot;, quantity: 1, price: 899.99}]-&gt;(product1)
(product1)-[:IN_CATEGORY]-&gt;(category1)
(product1)-[:MANUFACTURED_BY]-&gt;(vendor1)
</code></pre></div></td></tr></table></div></p>
<p>Do you see what's happening? The edges aren't just connections—they tell a story. Alice became friends with Bob on a specific date. Alice purchased a product on a specific date for a specific price. Each edge carries meaning and context.</p>
<p><strong>First-Class Relationships: Why This Matters</strong></p>
<p>When we say relationships are <strong>first-class</strong>, we mean they're treated as important as the entities they connect. In a relational database, you'd have:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- Separate tables, relationships implied by foreign keys</span>
<span class="n">Users</span><span class="w"> </span><span class="k">table</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">)</span>
<span class="n">Friendships</span><span class="w"> </span><span class="k">table</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">user1_id</span><span class="p">,</span><span class="w"> </span><span class="n">user2_id</span><span class="p">,</span><span class="w"> </span><span class="n">since</span><span class="p">)</span>

<span class="c1">-- To find friends, you JOIN tables</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">u2</span><span class="p">.</span><span class="o">*</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">Users</span><span class="w"> </span><span class="n">u1</span>
<span class="k">JOIN</span><span class="w"> </span><span class="n">Friendships</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">u1</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">user1_id</span>
<span class="k">JOIN</span><span class="w"> </span><span class="n">Users</span><span class="w"> </span><span class="n">u2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">user2_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u2</span><span class="p">.</span><span class="n">id</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">u1</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Alice&#39;</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>In a graph database, you have:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Relationships are explicit, queryable entities</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Alice&#39;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">friend</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>The difference isn't just syntax—it's architectural. Graph databases store edges as physical pointers between nodes, making traversal instant. We'll talk more about why that matters when we get to "index-free adjacency" (don't worry, we'll explain that one!).</p>
<p><strong>Edge Direction: Following the Arrows</strong></p>
<p>Every edge has a <strong>direction</strong>, shown by the arrow in our notation: <code>-&gt;</code>. But here's the cool part: you can traverse an edge in either direction when querying, regardless of how it's stored.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>(Alice)-[:FRIEND_OF]-&gt;(Bob)  // Stored with direction
</code></pre></div></td></tr></table></div>
<p>You can query:
- "Who are Alice's friends?" (follow the arrow forward)
- "Who is friends with Bob?" (follow the arrow backward)
- "Are Alice and Bob friends?" (check for a connection in either direction)</p>
<p>Direction matters semantically (Alice purchased a product is different from a product purchased Alice), but query-wise, you're flexible. This will make more sense when we get to actual queries later in the chapter.</p>
<p><strong>The abstract concept</strong>: Edges reify relationships—they make connections between entities tangible, queryable, and capable of carrying their own information.</p>
<p><strong>The concrete analogy</strong>: Think of edges like labeled arrows drawn between items on a whiteboard. If you're diagramming your company's org chart, edges are the lines connecting "Manager" to "Employee" with labels like "MANAGES" or "REPORTS_TO." Each line is a real thing you can point to and say "this specific connection exists and has these properties."</p>
<h2 id="properties-the-details-that-matter">Properties: The Details That Matter</h2>
<p>Both nodes and edges can have <strong>properties</strong>—key-value pairs that store actual data about the entity or relationship. Properties are how you record specific details like names, dates, prices, or any other attribute you care about.</p>
<p><strong>Node properties:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code>(Alice:Person {
  name: &quot;Alice Johnson&quot;,
  email: &quot;alice@example.com&quot;,
  age: 28,
  city: &quot;Seattle&quot;,
  premium: true
})
</code></pre></div></td></tr></table></div></p>
<p><strong>Edge properties:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>(Alice)-[:PURCHASED {
  date: &quot;2025-01-15&quot;,
  price: 899.99,
  quantity: 1,
  payment_method: &quot;credit_card&quot;
}]-&gt;(laptop)
</code></pre></div></td></tr></table></div></p>
<p>Properties are simple key-value pairs. The key is a string (like "name" or "price"), and the value can be a string, number, boolean, date, or even a list of values.</p>
<p><strong>Different nodes can have different properties:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>(Alice:Person {name: &quot;Alice&quot;, age: 28, city: &quot;Seattle&quot;})
(Bob:Person {name: &quot;Bob&quot;, age: 35, occupation: &quot;Engineer&quot;})
(Charlie:Person {name: &quot;Charlie&quot;, email: &quot;charlie@example.com&quot;})
</code></pre></div></td></tr></table></div>
<p>Notice how:
- Alice has age and city
- Bob has age and occupation
- Charlie has email but not age or city</p>
<p>This is totally fine! One person can have different attributes than another person. This flexibility is part of what makes graphs powerful—you don't need to define every possible field upfront or fill in NULL values for missing data.</p>
<p><strong>The abstract concept</strong>: Properties add specificity to otherwise generic entities and relationships. They transform "a person" into "Alice Johnson, age 28, from Seattle."</p>
<p><strong>The concrete analogy</strong>: Properties are like the information you'd write on a business card or profile. The card is the node (the physical thing representing you), and the properties are all the details printed on it—name, title, phone number, email, LinkedIn URL. Different cards might have different details depending on context.</p>
<h2 id="labels-organizing-the-chaos">Labels: Organizing the Chaos</h2>
<p><strong>Labels</strong> are categories or types that help organize nodes and edges. Think of labels as tags that say "this is a Person" or "this is a Product" or "this is a FRIEND_OF relationship."</p>
<p>Nodes and edges can have:
- <strong>No labels</strong> (though this is rare and usually not useful)
- <strong>One label</strong> (most common)
- <strong>Multiple labels</strong> (for things that fit multiple categories)</p>
<p><strong>Node labels:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>(alice:Person)                          // One label
(bob:Person:Employee)                    // Multiple labels
(acmeWidget:Product:PhysicalGood)        // Multiple labels
</code></pre></div></td></tr></table></div></p>
<p>Bob is both a Person AND an Employee. That widget is both a Product AND a PhysicalGood. Labels let you query "give me all Employees" or "give me all PhysicalGoods" without caring about their other labels.</p>
<p><strong>Edge labels (relationship types):</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>(Alice)-[:FRIEND_OF]-&gt;(Bob)
(Alice)-[:PURCHASED]-&gt;(laptop)
(Alice)-[:WORKS_AT]-&gt;(company)
</code></pre></div></td></tr></table></div></p>
<p>Edge labels (the part after the colon in the square brackets) describe the type of relationship. Unlike node labels, edges typically have just one label/type because a relationship usually represents one specific kind of connection.</p>
<p><strong>Why labels matter:</strong></p>
<ol>
<li><strong>Querying</strong>: You can filter by label ("find all Person nodes" or "find all PURCHASED edges")</li>
<li><strong>Performance</strong>: Databases can index by label for faster lookups</li>
<li><strong>Semantics</strong>: Labels make your graph self-documenting—you can look at the structure and understand what everything means</li>
</ol>
<p><strong>The abstract concept</strong>: Labels provide categorical information that transcends individual properties. They answer "what kind of thing is this?" rather than "what specific details does this have?"</p>
<p><strong>The concrete analogy</strong>: Labels are like the sections in a library—Fiction, Non-Fiction, Reference, Children's. A book might belong to multiple sections (a graphic novel might be both Fiction and Children's), but the labels help you navigate and filter the collection.</p>
<p>Okay, pause. How are we doing? We've covered the four fundamental building blocks of a Labeled Property Graph:
1. ✅ Nodes (entities)
2. ✅ Edges (relationships)
3. ✅ Properties (attributes)
4. ✅ Labels (categories)</p>
<p>If those don't feel 100% solid yet, don't worry. We're going to see them in action throughout the rest of this chapter, and the repetition will solidify the concepts. Let's keep going!</p>
<h2 id="putting-it-all-together-the-graph-data-model">Putting It All Together: The Graph Data Model</h2>
<p>Now that we've met all the pieces, let's see how they combine into a complete <strong>graph data model</strong>. A graph data model describes the structure of your data—what types of nodes exist, what types of edges connect them, what properties each might have.</p>
<p>Here's a small social network graph model:</p>
<p><strong>Node types:</strong>
- <strong>Person</strong>: Properties: name, email, age, city
- <strong>Post</strong>: Properties: content, timestamp, likes_count
- <strong>Company</strong>: Properties: name, industry, founded</p>
<p><strong>Edge types:</strong>
- <strong>FRIEND_OF</strong>: Connects Person to Person, properties: since, closeness
- <strong>POSTED</strong>: Connects Person to Post, properties: timestamp
- <strong>LIKED</strong>: Connects Person to Post, properties: timestamp
- <strong>WORKS_AT</strong>: Connects Person to Company, properties: title, start_date</p>
<p><strong>Example data following this model:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code>(alice:Person {name: &quot;Alice&quot;, age: 28, city: &quot;Seattle&quot;})
(bob:Person {name: &quot;Bob&quot;, age: 35, city: &quot;Portland&quot;})
(post1:Post {content: &quot;Graph databases are cool!&quot;, timestamp: &quot;2025-01-18T10:00:00&quot;})
(techcorp:Company {name: &quot;TechCorp&quot;, industry: &quot;Software&quot;, founded: 1995})

(alice)-[:FRIEND_OF {since: &quot;2020-05-12&quot;}]-&gt;(bob)
(alice)-[:POSTED {timestamp: &quot;2025-01-18T10:00:00&quot;}]-&gt;(post1)
(bob)-[:LIKED {timestamp: &quot;2025-01-18T10:05:00&quot;}]-&gt;(post1)
(alice)-[:WORKS_AT {title: &quot;Engineer&quot;, start_date: &quot;2022-03-01&quot;}]-&gt;(techcorp)
(bob)-[:WORKS_AT {title: &quot;Manager&quot;, start_date: &quot;2019-06-15&quot;}]-&gt;(techcorp)
</code></pre></div></td></tr></table></div>
<p>This data model is flexible but structured. You know what types of things can exist and how they can connect, but you have freedom within those constraints. Alice doesn't need to have exactly the same properties as Bob, and you can add new nodes and edges that follow the model as your data grows.</p>
<p><strong>The beauty of the graph data model</strong>: It mirrors how you think about the world. You don't think "Alice is row 42 in the Users table with a foreign key to row 17 in the Posts table." You think "Alice is a person who posted something and works at TechCorp." The graph model reflects that natural mental model.</p>
<h2 id="schema-optional-vs-schema-enforced-choose-your-adventure">Schema-Optional vs. Schema-Enforced: Choose Your Adventure</h2>
<p>Here's where graph databases get really flexible. You can choose between two approaches:</p>
<h3 id="schema-optional-modeling">Schema-Optional Modeling</h3>
<p><strong>Schema-optional</strong> (sometimes called schema-free or schema-less) means you don't define structure upfront. You just start creating nodes and edges, and the graph adapts to whatever you throw at it.</p>
<p><strong>Pros:</strong>
- <strong>Agile development</strong>: Start coding immediately, figure out structure as you go
- <strong>Evolutionary design</strong>: Add new properties or node types without migrations
- <strong>Heterogeneous data</strong>: Different nodes of the same label can have different properties
- <strong>Fast iteration</strong>: Change your mind? Just start storing different fields!</p>
<p><strong>Cons:</strong>
- <strong>Inconsistency risk</strong>: Nothing prevents typos (is it "email" or "e-mail"?)
- <strong>Data quality issues</strong>: No guarantee all Person nodes have required fields
- <strong>Application complexity</strong>: Your code must handle missing or unexpected properties
- <strong>Harder to document</strong>: What properties <em>should</em> a Person have?</p>
<p><strong>Example:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>// No schema defined, just create whatever you want
CREATE (alice:Person {name: &quot;Alice&quot;, age: 28, email: &quot;alice@example.com&quot;})
CREATE (bob:Person {name: &quot;Bob&quot;, occupation: &quot;Engineer&quot;})  // Different properties!
CREATE (charlie:Person {name: &quot;Charlie&quot;, age: &quot;thirty&quot;})   // Age is a string! (Probably a mistake)
</code></pre></div></td></tr></table></div></p>
<h3 id="schema-enforced-modeling">Schema-Enforced Modeling</h3>
<p><strong>Schema-enforced</strong> (sometimes called schema-constrained) means you define rules upfront: what properties are required, what types they must be, what edges are allowed. The database enforces these rules.</p>
<p><strong>Pros:</strong>
- <strong>Data quality</strong>: Required fields must be present, types must match
- <strong>Consistency</strong>: All Person nodes have the same structure
- <strong>Documentation</strong>: Schema serves as spec for what data looks like
- <strong>Validation</strong>: Errors caught on write, not discovered later during queries</p>
<p><strong>Cons:</strong>
- <strong>Upfront design</strong>: Must think through structure before coding
- <strong>Migration overhead</strong>: Changing schema requires careful planning
- <strong>Less flexibility</strong>: Can't easily add one-off properties
- <strong>Some databases lack support</strong>: Not all graph databases offer schema enforcement</p>
<p><strong>Example:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code>// Schema definition (pseudo-code, syntax varies by database)
DEFINE NODE Person {
  PROPERTIES {
    name: STRING (required),
    age: INTEGER (required, min: 0, max: 150),
    email: STRING (required, format: email)
  }
}

// Now creation follows schema
CREATE (alice:Person {name: &quot;Alice&quot;, age: 28, email: &quot;alice@example.com&quot;})  // ✅ Valid
CREATE (bob:Person {name: &quot;Bob&quot;})  // ❌ Error: missing required properties
CREATE (charlie:Person {name: &quot;Charlie&quot;, age: &quot;thirty&quot;})  // ❌ Error: age must be INTEGER
</code></pre></div></td></tr></table></div></p>
<h3 id="which-approach-should-you-use">Which Approach Should You Use?</h3>
<p>It depends on your use case:</p>
<ul>
<li><strong>Schema-optional</strong>: Prototyping, evolving domains, heterogeneous data, document-like flexibility</li>
<li><strong>Schema-enforced</strong>: Production systems, financial data, regulated industries, team coordination</li>
</ul>
<p>Many graph databases let you mix approaches—enforce schemas for critical data (Person must have name and email) while allowing flexibility elsewhere (Person can optionally have any additional properties).</p>
<p>The key takeaway: graph databases give you the choice. RDBMS forces schema-first; document databases force schema-less; graphs let you decide what makes sense for your data.</p>
<h2 id="index-free-adjacency-the-performance-secret">Index-Free Adjacency: The Performance Secret</h2>
<p>Okay, this is where things get a bit technical, but stick with me—this concept explains <em>why</em> graph databases are so fast at traversing relationships.</p>
<p><strong>Index-free adjacency</strong> means that each node physically stores references (pointers) to its directly connected nodes. When you ask "What are Alice's friends?", the database doesn't search an index or scan a table—it follows the pointers stored in Alice's node directly to Bob, Charlie, and Diana.</p>
<p><strong>How it works (simplified):</strong></p>
<p>Imagine each node is a filing cabinet drawer. Inside Alice's drawer, there are literal pointers (references) to all the nodes she's connected to:
- FRIEND_OF → [pointer to Bob, pointer to Charlie, pointer to Diana]
- WORKS_AT → [pointer to TechCorp]
- POSTED → [pointer to Post1, pointer to Post2]</p>
<p>When you query "Who are Alice's friends?", the database:
1. Finds Alice's node (one index lookup: O(log n))
2. Looks inside Alice's node at the FRIEND_OF pointers
3. Follows those pointers directly to Bob, Charlie, Diana (three pointer dereferences: O(1) each)</p>
<p>Total time: O(log n) + O(3) ≈ constant time for practical purposes, regardless of how many total nodes exist in the database.</p>
<p><strong>Contrast with RDBMS (index-based):</strong></p>
<p>In a relational database:
1. Find Alice in Users table (index lookup: O(log n))
2. Scan Friendships table for all rows where user1_id = Alice's ID (full table scan or index range scan: O(m) where m = number of friendships)
3. For each friendship, look up the friend in Users table (m index lookups: O(m log n))</p>
<p>As the number of friendships grows, performance degrades linearly or worse.</p>
<p><strong>Why "index-free"?</strong></p>
<p>Traditional databases use indexes—separate data structures that map values to locations. Finding Alice's friends requires looking up Alice's ID in a Friendships index, then following those references.</p>
<p>Graph databases don't need this intermediate step. The adjacency information is built into the node itself. Hence: index-free adjacency.</p>
<p><strong>The abstract concept</strong>: By storing adjacency information (which nodes connect to which) directly in the nodes themselves, graph databases achieve constant-time neighbor access.</p>
<p><strong>The concrete analogy</strong>: Imagine a massive hotel where every room has a list pinned to its door of all rooms it's connected to via hallways. If you're in room 42 and want to know which rooms you can reach directly, you just read the list on your door—instant answer. You don't need to consult a central directory or search floor plans. That's index-free adjacency.</p>
<h3 id="constant-time-neighbor-access">Constant-Time Neighbor Access</h3>
<p>This is the payoff of index-free adjacency. <strong>Constant-time neighbor access</strong> means that finding a node's direct neighbors takes the same amount of time regardless of:
- How many total nodes exist in the graph
- How many total edges exist in the graph
- How connected other parts of the graph are</p>
<p>Whether your graph has 100 nodes or 100 million nodes, finding Alice's friends takes the same amount of time: find Alice (O(log n)), follow pointers (O(1) per friend).</p>
<p>This is why graph databases can handle multi-hop queries efficiently—each hop is constant-time, so three hops is 3× constant time, not exponential like with JOINs.</p>
<p>(Yes, we're repeating the performance story from earlier chapters. That's intentional! Repetition with new context helps solidify understanding.)</p>
<h2 id="traversal-walking-the-graph">Traversal: Walking the Graph</h2>
<p>Now that we know how graphs are structured and why they're fast, let's talk about actually using them. <strong>Traversal</strong> is the process of walking through a graph, following edges from node to node.</p>
<p>Think of traversal like following a trail through a forest, where each node is a waypoint and each edge is a path connecting waypoints. You start at one node and follow edges to reach other nodes.</p>
<p><strong>Simple traversal example:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code>Start at Alice
→ Follow FRIEND_OF edge to Bob
→ Follow FRIEND_OF edge from Bob to Charlie
→ Follow WORKS_AT edge from Charlie to TechCorp
</code></pre></div></td></tr></table></div></p>
<p>Traversals can be:
- <strong>Single-hop</strong>: Follow one edge (Alice's direct friends)
- <strong>Multi-hop</strong>: Follow multiple edges (friends of Alice's friends)
- <strong>Filtered</strong>: Only follow certain edge types (FRIEND_OF but not WORKS_AT)
- <strong>Conditional</strong>: Follow edges only if they meet criteria (friendships since 2020)
- <strong>Depth-limited</strong>: Stop after N hops
- <strong>Shortest path</strong>: Find the shortest route between two nodes</p>
<p><strong>Traversal is fundamental to graphs</strong>. Almost every graph query involves some form of traversal—starting at one or more nodes and exploring outward along edges.</p>
<h2 id="graph-query-asking-questions-of-your-data">Graph Query: Asking Questions of Your Data</h2>
<p>A <strong>graph query</strong> is a question you ask your data by specifying patterns to match and conditions to filter. Graph query languages (like Cypher, GSQL, or Gremlin) let you express complex traversals and pattern matching in readable code.</p>
<p><strong>Example queries (in Cypher syntax):</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Find Alice&#39;s direct friends</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">friend</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>

<span class="c1">// Find friends of Alice&#39;s friends (2-hop)</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="p">*</span><span class="m">2</span><span class="o">]-</span><span class="p">(</span><span class="n">friendOfFriend</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">friendOfFriend</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>

<span class="c1">// Find people who work at the same company as Alice</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">WORKS_AT</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">company</span><span class="p">)</span><span class="o">&lt;-[</span><span class="p">:</span><span class="n">WORKS_AT</span><span class="o">]-</span><span class="p">(</span><span class="n">coworker</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">coworker</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>

<span class="c1">// Find posts liked by Alice&#39;s friends</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">LIKED</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">post</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">post</span><span class="p">.</span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="n">friend</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Don't worry if the syntax looks unfamiliar. The key point is that graph queries express patterns visually:
- <code>(alice:Person {name: "Alice"})</code> - Find a Person node named Alice
- <code>-[:FRIEND_OF]-&gt;</code> - Follow a FRIEND_OF edge
- <code>(friend)</code> - To another node (call it "friend")</p>
<p>Graph queries feel more like describing what you're looking for ("people Alice is friends with") than instructing the database how to find it (JOIN this table to that table on this key).</p>
<h2 id="pattern-matching-finding-shapes-in-the-graph">Pattern Matching: Finding Shapes in the Graph</h2>
<p><strong>Pattern matching</strong> is the heart of graph querying. Instead of specifying "scan this table, join to that table," you describe a pattern—a shape or structure—and the database finds all instances of that pattern in the graph.</p>
<p><strong>Patterns can be:</strong></p>
<p><strong>1. Simple paths:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Alice → friend</span>
<span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>2. Multi-hop paths:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Alice → friend → friend of friend</span>
<span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">fof</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>3. Complex shapes:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Alice and Bob both like the same post</span>
<span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">LIKED</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">post</span><span class="p">)</span><span class="o">&lt;-[</span><span class="p">:</span><span class="n">LIKED</span><span class="o">]-</span><span class="p">(</span><span class="n">bob</span><span class="p">:</span><span class="n">Person</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>4. Variable-length paths:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Anyone connected to Alice via 1-3 FRIEND_OF hops</span>
<span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="p">*</span><span class="m">1</span><span class="p">..</span><span class="m">3</span><span class="o">]-</span><span class="p">(</span><span class="n">connected</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>5. Triangles, cycles, and other structures:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Find triangles: A → B → C → A</span>
<span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<p>Pattern matching is declarative: you describe what you want, and the query planner figures out the efficient way to find it. This is similar to SQL's declarative nature, but pattern syntax is more intuitive for relationship queries.</p>
<p><strong>The abstract concept</strong>: Pattern matching treats subgraphs as first-class entities you can search for, like using Ctrl+F to find text in a document, but for graph structures instead of strings.</p>
<p><strong>The concrete analogy</strong>: Pattern matching is like describing a constellation to a stargazing app: "Find me three bright stars forming a triangle with a dimmer star in the middle." The app searches the sky and highlights all instances of that pattern. Similarly, graph pattern matching searches your data and returns all matching structures.</p>
<h2 id="multi-hop-queries-going-deep">Multi-Hop Queries: Going Deep</h2>
<p><strong>Multi-hop queries</strong> traverse multiple edges in sequence, like following a chain: Alice → Bob → Charlie → Diana. Each "hop" is one edge traversal.</p>
<p>We've seen this before (remember the performance cliff from Chapters 1 and 2?), but let's revisit it with our new vocabulary.</p>
<p><strong>1-hop query:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Alice&#39;s direct friends</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">friend</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>2-hop query:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Friends of Alice&#39;s friends</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">()</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">fof</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">fof</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>3-hop query:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Friends of friends of friends</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="p">*</span><span class="m">3</span><span class="o">]-</span><span class="p">(</span><span class="n">third_degree</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">third_degree</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>Variable-length multi-hop:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Anyone connected to Alice via 1-5 friendship hops</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="p">*</span><span class="m">1</span><span class="p">..</span><span class="m">5</span><span class="o">]-</span><span class="p">(</span><span class="n">connected</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">connected</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>Why multi-hop queries matter:</strong></p>
<p>In social networks: "Show me friends of friends for recommendations"
In supply chains: "What happens if this supplier fails?" (5+ hop impact analysis)
In fraud detection: "Find accounts within 3 hops of this suspicious account"
In knowledge graphs: "How is concept A related to concept Z?"</p>
<p>Multi-hop queries are where graph databases shine. Thanks to index-free adjacency and constant-time neighbor access, these queries run in milliseconds even with millions of nodes, while the equivalent SQL queries would timeout or take hours.</p>
<p>(There's that repetition again. Starting to feel familiar, right?)</p>
<h2 id="path-patterns-expressing-complex-routes">Path Patterns: Expressing Complex Routes</h2>
<p><strong>Path patterns</strong> are a way to specify sequences of nodes and edges with varying levels of specificity. They're the building blocks of graph queries.</p>
<p><strong>Types of path patterns:</strong></p>
<p><strong>1. Fixed-length paths:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w">  </span><span class="c1">// Exactly 2 hops</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>2. Variable-length paths:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="p">*</span><span class="m">1</span><span class="p">..</span><span class="m">5</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">connected</span><span class="p">)</span><span class="w">  </span><span class="c1">// 1 to 5 hops</span>
<span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="p">*</span><span class="o">]-</span><span class="p">(</span><span class="n">connected</span><span class="p">)</span><span class="w">       </span><span class="c1">// Any number of hops (use carefully!)</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>3. Mixed edge types:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">WORKS_AT</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">company</span><span class="p">)</span><span class="w">  </span><span class="c1">// Friend who works at a company</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>4. Undirected paths:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-</span><span class="p">(</span><span class="n">connected</span><span class="p">)</span><span class="w">  </span><span class="c1">// Friends in either direction</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>5. Shortest path:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">MATCH</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">shortestPath</span><span class="p">((</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="p">*</span><span class="o">]-</span><span class="p">(</span><span class="n">bob</span><span class="p">))</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">p</span><span class="p">;</span><span class="w">  </span><span class="c1">// Find shortest route from Alice to Bob</span>
</code></pre></div></td></tr></table></div></p>
<p>Path patterns let you express complex relationship queries concisely. Instead of writing nested loops and JOIN logic, you just describe the path structure you're looking for.</p>
<h2 id="aggregation-computing-over-results">Aggregation: Computing Over Results</h2>
<p>Like SQL, graph query languages support <strong>aggregation</strong>—computing statistics, sums, averages, counts over query results.</p>
<p><strong>Common aggregations:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Count Alice&#39;s friends</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">count</span><span class="p">(</span><span class="n">friend</span><span class="p">);</span>

<span class="c1">// Average age of Alice&#39;s friends</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">avg</span><span class="p">(</span><span class="n">friend</span><span class="p">.</span><span class="n">age</span><span class="p">);</span>

<span class="c1">// Total amount spent by Alice</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">})</span><span class="o">-[</span><span class="n">p</span><span class="p">:</span><span class="n">PURCHASED</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">price</span><span class="p">);</span>

<span class="c1">// Most popular posts (by likes)</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">post</span><span class="p">:</span><span class="n">Post</span><span class="p">)</span><span class="o">&lt;-[</span><span class="n">like</span><span class="p">:</span><span class="n">LIKED</span><span class="o">]-</span><span class="p">()</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">post</span><span class="p">.</span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">(</span><span class="n">like</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">like_count</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">like_count</span><span class="w"> </span><span class="k">DESC</span>
<span class="k">LIMIT</span><span class="w"> </span><span class="m">10</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Aggregations work after traversals and pattern matches, letting you compute metrics over the results. This combines the power of graph traversal with the analytical capabilities of SQL.</p>
<h2 id="graph-schema-optional-structure">Graph Schema: Optional Structure</h2>
<p>A <strong>graph schema</strong> defines the expected structure of your graph—what node labels exist, what edge types connect them, what properties each has. As we discussed earlier, schemas can be enforced or just documented.</p>
<p><strong>Example schema definition (pseudo-code):</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code>NODE LABELS:
  Person {name: string, age: integer, email: string}
  Post {content: string, timestamp: datetime}
  Company {name: string, industry: string}

EDGE TYPES:
  FRIEND_OF: Person → Person {since: date}
  POSTED: Person → Post {timestamp: datetime}
  LIKED: Person → Post {timestamp: datetime}
  WORKS_AT: Person → Company {title: string, start_date: date}
</code></pre></div></td></tr></table></div>
<p><strong>Why schemas are helpful even if not enforced:</strong></p>
<ul>
<li><strong>Documentation</strong>: New developers can see expected structure</li>
<li><strong>Tooling</strong>: Graph visualization tools can use schema to render nicely</li>
<li><strong>Validation</strong>: Application code can validate before inserting</li>
<li><strong>Query optimization</strong>: Database can optimize queries based on known structure</li>
</ul>
<p>Some graph databases (like Neo4j with APOC procedures or TigerGraph with GSQL) let you define and enforce schemas. Others (like Neo4j's core) are schema-optional but let you create constraints (e.g., "every Person must have a unique email").</p>
<h2 id="metadata-representation-data-about-data">Metadata Representation: Data About Data</h2>
<p><strong>Metadata</strong> is data about your data. In graphs, metadata can exist at multiple levels:</p>
<p><strong>Node metadata:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code>(user:Person {
  name: &quot;Alice&quot;,
  created_at: &quot;2020-01-15T10:00:00&quot;,
  created_by: &quot;admin_user&quot;,
  last_modified: &quot;2025-01-18T14:30:00&quot;,
  version: 3
})
</code></pre></div></td></tr></table></div></p>
<p><strong>Edge metadata:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>(alice)-[:FRIEND_OF {
  since: &quot;2020-05-12&quot;,
  confirmed_by: &quot;alice&quot;,
  confidence: 0.95,
  source: &quot;facebook_import&quot;
}]-&gt;(bob)
</code></pre></div></td></tr></table></div></p>
<p><strong>Graph-level metadata:</strong>
Some systems support graph-wide metadata (when the database was created, who owns it, what application version uses it).</p>
<p>Metadata is just properties, but with a special purpose: tracking provenance, versioning, audit trails, data quality metrics, or other information about how the data came to be.</p>
<h2 id="graph-validation-document-validation-and-rule-systems">Graph Validation, Document Validation, and Rule Systems</h2>
<p>As graphs grow, you might want to enforce quality and consistency. This is where validation and rules come in.</p>
<h3 id="graph-validation">Graph Validation</h3>
<p><strong>Graph validation</strong> checks that your graph adheres to structural rules:</p>
<ul>
<li>"Every Person node must have a name property"</li>
<li>"Every PURCHASED edge must connect a Person to a Product (not to another Person)"</li>
<li>"No FRIEND_OF edges can form a loop (person can't be their own friend)"</li>
</ul>
<p>Some databases support validation constraints natively:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Neo4j constraint examples</span>
<span class="k">CREATE</span><span class="w"> </span><span class="n">CONSTRAINT</span><span class="w"> </span><span class="n">person_name</span><span class="w"> </span><span class="n">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="n">EXISTS</span>
<span class="n">FOR</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Person</span><span class="p">)</span><span class="w"> </span><span class="n">REQUIRE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="n">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="n">CONSTRAINT</span><span class="w"> </span><span class="n">person_email_unique</span><span class="w"> </span><span class="n">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="n">EXISTS</span>
<span class="n">FOR</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">:</span><span class="n">Person</span><span class="p">)</span><span class="w"> </span><span class="n">REQUIRE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">email</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="document-validation">Document Validation</h3>
<p><strong>Document validation</strong> treats nodes like JSON documents and validates their structure:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Validation schema (conceptual)</span>
<span class="nx">PersonSchema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">150</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">format</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;email&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="nx">friends</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;reference&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">to</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Person&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>This is similar to JSON Schema or MongoDB's document validation, applied to graph nodes.</p>
<h3 id="rule-systems">Rule Systems</h3>
<p><strong>Rule systems</strong> let you define application logic that executes when data changes:</p>
<p><strong>Example rules:</strong></p>
<ul>
<li>"When a PURCHASED edge is created, increment the product's sales_count property"</li>
<li>"When two people become FRIEND_OF each other, create a MUTUAL_FRIENDS edge"</li>
<li>"When a person's age reaches 18, add the Adult label"</li>
</ul>
<p>Some graph databases support rules/triggers directly; others require application-level implementation.</p>
<p>These systems help maintain data integrity, enforce business logic, and automate derived data updates.</p>
<h2 id="bringing-it-all-together-a-complete-example">Bringing It All Together: A Complete Example</h2>
<p>Let's pull everything together with a comprehensive example that uses all the concepts we've covered.</p>
<p><strong>Scenario</strong>: A simplified LinkedIn-like professional network</p>
<p><strong>Graph data model:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code>NODES:
  Person {name, email, age, city, headline}
  Company {name, industry, size, founded}
  Skill {name, category}
  Post {content, timestamp}

EDGES:
  FRIEND_OF: Person → Person {since, closeness}
  WORKS_AT: Person → Company {title, start_date, current}
  HAS_SKILL: Person → Skill {proficiency, years_experience}
  POSTED: Person → Post {timestamp}
  LIKED: Person → Post {timestamp}
  ENDORSED: Person → Person {skill, timestamp} // Person endorses Person for a skill
</code></pre></div></td></tr></table></div>
<p><strong>Sample data:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Create nodes</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice Johnson&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;alice@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">:</span><span class="w"> </span><span class="m">28</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Seattle&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">headline</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Software Engineer&quot;</span><span class="p">})</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">bob</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Bob Smith&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bob@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">:</span><span class="w"> </span><span class="m">35</span><span class="p">,</span><span class="w"> </span><span class="n">city</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Portland&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">headline</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Engineering Manager&quot;</span><span class="p">})</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">techcorp</span><span class="p">:</span><span class="n">Company</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;TechCorp&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">industry</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Software&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="m">500</span><span class="p">,</span><span class="w"> </span><span class="n">founded</span><span class="p">:</span><span class="w"> </span><span class="m">1995</span><span class="p">})</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">python</span><span class="p">:</span><span class="n">Skill</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Python&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">category</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Programming&quot;</span><span class="p">})</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">leadership</span><span class="p">:</span><span class="n">Skill</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Leadership&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">category</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Soft Skills&quot;</span><span class="p">})</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">post1</span><span class="p">:</span><span class="n">Post</span><span class="w"> </span><span class="p">{</span><span class="n">content</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Excited to share our new product launch!&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">timestamp</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2025-01-18T10:00:00&quot;</span><span class="p">})</span>

<span class="c1">// Create edges</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="w"> </span><span class="p">{</span><span class="n">since</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2020-05-12&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">closeness</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="p">.</span><span class="m">8</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">bob</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">WORKS_AT</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Software Engineer&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">start_date</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2022-03-01&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">current</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">techcorp</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">bob</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">WORKS_AT</span><span class="w"> </span><span class="p">{</span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Engineering Manager&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">start_date</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2019-06-15&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">current</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">techcorp</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">HAS_SKILL</span><span class="w"> </span><span class="p">{</span><span class="n">proficiency</span><span class="p">:</span><span class="w"> </span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="n">years_experience</span><span class="p">:</span><span class="w"> </span><span class="m">6</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">python</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">bob</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">HAS_SKILL</span><span class="w"> </span><span class="p">{</span><span class="n">proficiency</span><span class="p">:</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="n">years_experience</span><span class="p">:</span><span class="w"> </span><span class="m">3</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">python</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">bob</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">HAS_SKILL</span><span class="w"> </span><span class="p">{</span><span class="n">proficiency</span><span class="p">:</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="n">years_experience</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">leadership</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">bob</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">POSTED</span><span class="w"> </span><span class="p">{</span><span class="n">timestamp</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2025-01-18T10:00:00&quot;</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">post1</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">LIKED</span><span class="w"> </span><span class="p">{</span><span class="n">timestamp</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2025-01-18T10:05:00&quot;</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">post1</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">ENDORSED</span><span class="w"> </span><span class="p">{</span><span class="n">skill</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Leadership&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">timestamp</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2025-01-15&quot;</span><span class="p">}</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">bob</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p><strong>Interesting queries:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// 1. Find Alice&#39;s coworkers</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice Johnson&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">WORKS_AT</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">company</span><span class="p">)</span><span class="o">&lt;-[</span><span class="p">:</span><span class="n">WORKS_AT</span><span class="o">]-</span><span class="p">(</span><span class="n">coworker</span><span class="p">)</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">coworker</span><span class="w"> </span><span class="p">&lt;&gt;</span><span class="w"> </span><span class="n">alice</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">coworker</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">coworker</span><span class="p">.</span><span class="n">headline</span><span class="p">;</span>

<span class="c1">// 2. Find people Alice knows who have Python skills</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice Johnson&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="o">]</span><span class="err">-</span><span class="p">(</span><span class="n">friend</span><span class="p">)</span><span class="err">-</span><span class="o">[</span><span class="p">:</span><span class="n">HAS_SKILL</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">skill</span><span class="p">:</span><span class="n">Skill</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Python&quot;</span><span class="p">})</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">friend</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">skill</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>

<span class="c1">// 3. Find posts from Alice&#39;s network (friends and coworkers)</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice Johnson&quot;</span><span class="p">})</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="p">|</span><span class="n">WORKS_AT</span><span class="p">*</span><span class="m">1</span><span class="p">..</span><span class="m">2</span><span class="o">]</span><span class="err">-</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span><span class="err">-</span><span class="o">[</span><span class="p">:</span><span class="n">POSTED</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">post</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">post</span><span class="p">.</span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">post</span><span class="p">.</span><span class="n">timestamp</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">post</span><span class="p">.</span><span class="n">timestamp</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>

<span class="c1">// 4. Skill recommendations: Skills that Alice&#39;s coworkers have but Alice doesn&#39;t</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice Johnson&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">WORKS_AT</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">company</span><span class="p">)</span><span class="o">&lt;-[</span><span class="p">:</span><span class="n">WORKS_AT</span><span class="o">]-</span><span class="p">(</span><span class="n">coworker</span><span class="p">)</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">coworker</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">HAS_SKILL</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">skill</span><span class="p">)</span>
<span class="k">WHERE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">)</span><span class="o">-[</span><span class="p">:</span><span class="n">HAS_SKILL</span><span class="o">]-&gt;</span><span class="p">(</span><span class="n">skill</span><span class="p">)</span>
<span class="k">RETURN</span><span class="w"> </span><span class="n">skill</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">count</span><span class="p">(</span><span class="n">coworker</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">coworker_count</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">coworker_count</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>

<span class="c1">// 5. Find people within Alice&#39;s 2nd-degree network in Seattle</span>
<span class="k">MATCH</span><span class="w"> </span><span class="p">(</span><span class="n">alice</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice Johnson&quot;</span><span class="p">})</span><span class="o">-[</span><span class="p">:</span><span class="n">FRIEND_OF</span><span class="p">*</span><span class="m">1</span><span class="p">..</span><span class="m">2</span><span class="o">]-</span><span class="p">(</span><span class="n">connection</span><span class="p">:</span><span class="n">Person</span><span class="w"> </span><span class="p">{</span><span class="n">city</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Seattle&quot;</span><span class="p">})</span>
<span class="k">RETURN</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">connection</span><span class="p">.</span><span class="n">headline</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Do you see how all the concepts come together? We have:
- ✅ Nodes (Person, Company, Skill, Post)
- ✅ Edges (FRIEND_OF, WORKS_AT, HAS_SKILL, POSTED, LIKED, ENDORSED)
- ✅ Properties (on both nodes and edges)
- ✅ Labels (organizing nodes and edge types)
- ✅ Traversal (following edges from Alice outward)
- ✅ Pattern matching (finding specific structures like "coworkers")
- ✅ Multi-hop queries (friends of friends, 1-2 degrees)
- ✅ Aggregation (counting skills, ordering by timestamp)</p>
<p>This is a real graph data model! You could build an actual application on this structure.</p>
<h2 id="taking-a-breath-what-weve-covered">Taking a Breath: What We've Covered</h2>
<p>Okay, that was a lot. Let's recap the major concepts:</p>
<p><strong>Core building blocks:</strong>
1. ✅ <strong>Labeled Property Graph</strong> - The overall model
2. ✅ <strong>Nodes</strong> - Entities (things that exist)
3. ✅ <strong>Edges</strong> - Relationships (connections between things)
4. ✅ <strong>Properties</strong> - Attributes (details about nodes and edges)
5. ✅ <strong>Labels</strong> - Categories (organizing nodes and edges into types)</p>
<p><strong>Advanced concepts:</strong>
6. ✅ <strong>First-Class Relationships</strong> - Edges are real, queryable entities
7. ✅ <strong>Edge Direction</strong> - Relationships have direction but can be traversed either way
8. ✅ <strong>Index-Free Adjacency</strong> - How graphs achieve constant-time neighbor access
9. ✅ <strong>Constant-Time Neighbor Access</strong> - Why graphs are fast
10. ✅ <strong>Graph Data Model</strong> - The structure describing your graph
11. ✅ <strong>Schema-Optional Modeling</strong> - No schema required, flexible structure
12. ✅ <strong>Schema-Enforced Modeling</strong> - Schema required, guaranteed consistency
13. ✅ <strong>Graph Schema</strong> - Defining expected structure
14. ✅ <strong>Traversal</strong> - Walking through the graph
15. ✅ <strong>Graph Query</strong> - Asking questions of your data
16. ✅ <strong>Pattern Matching</strong> - Finding structures/shapes in the graph
17. ✅ <strong>Path Patterns</strong> - Expressing complex routes
18. ✅ <strong>Multi-Hop Queries</strong> - Traversing multiple edges
19. ✅ <strong>Aggregation</strong> - Computing statistics over results
20. ✅ <strong>Metadata Representation</strong> - Data about data
21. ✅ <strong>Graph Validation</strong> - Enforcing structural rules
22. ✅ <strong>Document Validation</strong> - Validating node/edge properties
23. ✅ <strong>Rule Systems</strong> - Automating logic and maintaining integrity</p>
<p>All 23 concepts, covered!</p>
<p>If your head is spinning, that's completely normal. You've just been introduced to an entire data model in one chapter. The key isn't to memorize every definition—it's to understand the big picture:</p>
<p><strong>Graphs represent connected data naturally using nodes (things) and edges (connections), with properties (details) and labels (categories). This structure enables fast traversal and intuitive querying through pattern matching. Schemas are optional, giving you flexibility to choose between agility and consistency. The result: a database that mirrors how you think about relationships.</strong></p>
<h2 id="building-confidence-through-repetition">Building Confidence Through Repetition</h2>
<p>Remember how we promised repetition would help these concepts click? Here's the same model explained three different ways:</p>
<p><strong>Version 1 (Concrete analogy):</strong>
Imagine a corkboard full of index cards (nodes) connected by colored strings (edges). Each card has information written on it (properties) and a category sticker (label). You can trace along the strings to see how cards connect (traversal), and you can search for specific patterns like "cards connected by red strings" (pattern matching).</p>
<p><strong>Version 2 (Abstract model):</strong>
A labeled property graph consists of vertices (V) and edges (E), where E ⊆ V × V, with both vertices and edges possessing arbitrary key-value properties (P) and categorical labels (L). Traversal operations navigate E relationships in O(1) time via index-free adjacency, enabling efficient pattern matching across variable-length paths.</p>
<p><strong>Version 3 (Practical example):</strong>
Think about Facebook: your profile is a node, your friendship with someone is an edge, your name and age are properties, and "Person" is a label. When you view a friend's profile, the database doesn't search a table—it follows a direct pointer from your node to theirs. When you see "people you may know," that's a 2-hop traversal (friends of your friends) running in milliseconds.</p>
<p>Same concepts, three angles. Which explanation resonates with you? Probably one more than the others, and that's fine—people learn differently. The important thing is that the core ideas are getting reinforced.</p>
<h2 id="moving-forward">Moving Forward</h2>
<p>In the next chapter, we'll dive into query languages—specifically Cypher and GSQL—and you'll get hands-on experience writing real graph queries. All the concepts we introduced here (nodes, edges, traversal, pattern matching) will show up again in concrete query syntax.</p>
<p>And you know what? When you see <code>(alice:Person)-[:FRIEND_OF]-&gt;(bob)</code> in the next chapter, it won't feel weird anymore. You'll think "Okay, that's a Person node named alice, connected by a FRIEND_OF edge to another Person node named bob." It'll feel natural.</p>
<p>That's the power of repetition and varied examples. The concepts we introduced here will keep showing up throughout the rest of this course, and each time you'll understand them a little better.</p>
<h2 id="key-takeaways">Key Takeaways</h2>
<ol>
<li>
<p><strong>The Labeled Property Graph model has four components</strong>: nodes (entities), edges (relationships), properties (attributes), and labels (categories)</p>
</li>
<li>
<p><strong>Relationships are first-class citizens</strong> in graph databases—they're real, queryable entities with their own properties and identities</p>
</li>
<li>
<p><strong>Index-free adjacency</strong> means nodes store direct pointers to connected nodes, enabling <strong>constant-time neighbor access</strong> regardless of graph size</p>
</li>
<li>
<p><strong>Schema flexibility</strong> lets you choose: schema-optional for agility and evolution, or schema-enforced for consistency and data quality</p>
</li>
<li>
<p><strong>Traversal and pattern matching</strong> make graph queries intuitive—you describe the structure you're looking for, not how to find it</p>
</li>
<li>
<p><strong>Multi-hop queries</strong> are where graphs shine, maintaining performance even at 5+ hops while RDBMS queries timeout</p>
</li>
<li>
<p><strong>Validation and rules</strong> help maintain data quality as graphs grow, though approaches vary by database</p>
</li>
</ol>
<p>Most importantly: <strong>Don't worry if this all feels overwhelming</strong>. These concepts will appear again and again throughout this course, in queries, in examples, in case studies. Each repetition will strengthen your understanding. By the end of the course, you'll be thinking in graphs naturally.</p>
<p>Ready for the next step? Chapter 4 awaits, where all this theory becomes practice through actual query languages.</p>
<hr />
<p><em>Graph databases ask you to think differently about data, but that difference is actually more natural—it's how you already think about the connected world around you. The learning curve isn't steep; it's just unfamiliar. Give it time, and it'll click.</em></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../02-database-systems-nosql/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Chapter 2 - Database Systems and NoSQL">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Chapter 2 - Database Systems and NoSQL
              </div>
            </div>
          </a>
        
        
          
          <a href="../04-query-languages/" class="md-footer__link md-footer__link--next" aria-label="Next: Chapter 4 - Query Languages">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Chapter 4 - Query Languages
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "navigation.top", "navigation.footer", "content.action.edit"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
    
  </body>
</html>